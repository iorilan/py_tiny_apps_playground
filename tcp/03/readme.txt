handle multi-connection using select